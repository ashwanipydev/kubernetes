<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K8s</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        stone: {
                            850: '#211f1d',
                            950: '#0c0a09',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e7e5e4;
        }
        .dark ::-webkit-scrollbar-track {
            background: #292524;
        }
        ::-webkit-scrollbar-thumb {
            background: #a8a29e;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #78716c;
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .tab-active {
            border-bottom: 2px solid #0284c7;
            color: #0284c7;
            font-weight: 600;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .terminal-window {
            background-color: #1e1e1e;
            color: #d4d4d4;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }

        .animate-fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col bg-stone-50 text-stone-900 dark:bg-stone-950 dark:text-stone-100">

<!-- Navigation Bar -->
<nav class="bg-white dark:bg-stone-900 border-b border-stone-200 dark:border-stone-800 sticky top-0 z-50 transition-colors">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
            <div class="flex items-center cursor-pointer overflow-hidden" onclick="renderDashboard()">
                <span class="text-xl sm:text-2xl mr-2">‚ò∏Ô∏è</span>
                <span class="font-bold text-lg sm:text-xl tracking-tight text-stone-800 dark:text-stone-100 truncate">K8s Mastery</span>
            </div>
            <div class="flex items-center space-x-2 sm:space-x-4">
                <button id="theme-toggle"
                        class="p-2 rounded-lg bg-stone-100 dark:bg-stone-800 hover:bg-stone-200 dark:hover:bg-stone-700 transition-colors">
                    <span id="theme-toggle-icon">üåô</span>
                </button>
                <button onclick="renderDashboard()"
                        class="text-stone-600 dark:text-stone-400 hover:text-sky-600 dark:hover:text-sky-400 font-medium transition-colors text-sm sm:text-base">
                    Dashboard
                </button>
                <div class="hidden xs:block text-xs sm:text-sm text-stone-500 font-mono" id="progress-display">Day
                    0/12
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Main Content Area -->
<main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 w-full">
    <div id="app-view" class="w-full">
        <!-- Content injected via JS -->
    </div>
</main>

<!-- Footer -->
<footer class="bg-stone-100 dark:bg-stone-900 border-t border-stone-200 dark:border-stone-800 mt-auto transition-colors">
    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center">
        <p class="text-stone-500 dark:text-stone-400 text-sm">Interactive 12-Day DevOps Job-Ready Plan</p>
    </div>
</footer>

<script>
    // --- Data Storage ---
     const k8sData = [
 {
     day: 1,
     title: "The Foundation - Architecture & Pods",
     domain: "Core",
     focus: "Understanding why K8s exists and the smallest unit of deployment.",
     concepts: [
         "Container Orchestration: Managing the lifecycle of containers.", 
         "Control Plane: The 'brains' (API Server, Scheduler, etc.).",
         "Worker Nodes: Where applications run.",
         "Kube-apiserver: Entry point for REST commands.",
         "Etcd: Distributed key-value store.",
         "Kube-scheduler: Assigns pods to nodes.",
         "Kube-controller-manager: Handles cluster functions.",
         "Kubelet: Node agent ensuring containers run.",
         "Kube-proxy: Host networking & load balancing.",
         "Pod: Smallest deployable unit.",
         "Sidecar Pattern: Helper container alongside main app.",
         "YAML: Language for K8s objects.",
         "Declarative vs Imperative: What vs. How.",
         "Namespace: Virtual clusters.",
         "Context: Cluster + User + Namespace.",
         "Nodes: Physical/Virtual machines.",
         "Container Runtime: Docker/containerd.",
         "Minikube/Kind: Local K8s cluster.",
         "Manifest: File describing desired state.",
         "Desired State: K8s matching current to desired."
     ],
     tasks: [
         "Install kind/minikube and Kubectl.",
         "Start a cluster.",
         "Check cluster status `kubectl cluster-info`.",
         "Create namespace `dev-team`.",
         "List all namespaces.",
         "Run Nginx pod imperatively.",
         "Create Nginx pod via YAML.",
         "List pods in default namespace.",
         "List pods in `dev-team`.",
         "Describe pod lifecycle events.",
         "View running pod logs.",
         "Execute `ls` inside a pod.",
         "Delete a pod manually.",
         "Create multi-container pod (App+Logger).",
         "Check specific container logs.",
         "Get pod details in JSON.",
         "Use `watch` to monitor status.",
         "Delete all pods in namespace.",
         "Set default namespace context."
     ],
     lab: {
         title: "The 'Ghost' Pod",
         scenario: "A developer created a pod manually, but it keeps disappearing after they delete it (or so they think). You need to prove that pods are ephemeral.",
         steps: "Create a pod, write a temporary file to `/tmp`, delete the pod, and recreate it. Verify the file is gone. This reinforces that Pods are not persistent."
     },
     commands: [
         { cmd: "kubectl run <name> --image=<image>", desc: "Create a pod" },
         { cmd: "kubectl get pods", desc: "List pods" },
         { cmd: "kubectl describe pod <name>", desc: "Deep dive into status" },
         { cmd: "kubectl logs <name>", desc: "Fetch logs" },
         { cmd: "kubectl delete pod <name>", desc: "Terminate pod" }
     ],
     resources: [
         { name: "Kubernetes Basics", url: "https://kubernetes.io/docs/tutorials/kubernetes-basics/" },
         { name: "K8s Architecture", url: "https://kubernetes.io/docs/concepts/overview/components/" }
     ]
 },
 {
     day: 2,
     title: "Controllers & Scalability",
     domain: "Workloads",
     focus: "Managing multiple pods, scaling, and self-healing.",
     concepts: [
         "ReplicaSet: Ensures a specific number of pod copies run.",
         "Deployment: Manages ReplicaSets and provides updates.",
         "Labels & Selectors: How K8s groups resources.",
         "Rolling Updates: Updating apps with zero downtime.",
         "Rollbacks: Reverting to a previous stable version.",
         "Scaling: Increasing/Decreasing replicas manually.",
         "Stateless Applications: Apps that don't save client data locally.",
         "Dry Run: Simulating a command before execution.",
         "Recreate Strategy: Terminate all then create new (vs Rolling).",
         "Revision History: Tracking deployment changes."
     ],
     tasks: [
         "Create a Deployment YAML for Nginx with 3 replicas.",
         "Apply the deployment and watch pods spin up.",
         "Delete a pod manually and watch it respawn (Self-healing).",
         "Scale the deployment to 5 replicas.",
         "Scale down to 2 replicas.",
         "Update the image version (e.g., nginx:1.14.2 to 1.16.1).",
         "Check rollout status.",
         "Perform a Rollback to the previous version.",
         "Use labels to filter `get pods` (e.g., `app=nginx`).",
         "Generate YAML without creating resource (--dry-run=client)."
     ],
     lab: {
         title: "The Hydra",
         scenario: "Your application is under heavy load. Every time a crash occurs, you need the system to recover instantly.",
         steps: "Deploy an app with 3 replicas. Open a second terminal running `kubectl get pods -w`. Manually delete one pod. Observe the ReplicaSet instantly creating a new one to maintain the desired state."
     },
     commands: [
         { cmd: "kubectl create deployment <name> --image=<imgname>", desc: "Create deployment" },
         { cmd: "kubectl scale deployment <name> --replicas=3", desc: "Scale manually" },
         { cmd: "kubectl set image deployment/<name> <container>=<new-image>", desc: "Update image" },
         { cmd: "kubectl rollout status deployment/<name>", desc: "Check update progress" },
         { cmd: "kubectl rollout undo deployment/<name>", desc: "Revert update" }
     ],
     resources: [
         { name: "Deployments", url: "https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" },
         { name: "Labels and Selectors", url: "https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" }
     ]
 },
 {
     day: 3,
     title: "Networking & Service Discovery",
     domain: "Networking",
     focus: "Exposing applications and internal communication.",
     concepts: [
         "Service (SVC): Stable IP/DNS for a set of pods.",
         "ClusterIP: Internal-only access (Default).",
         "NodePort: Exposes service on a static port on each node.",
         "LoadBalancer: Connects to Cloud Provider LB.",
         "CoreDNS: Internal DNS resolution.",
         "Endpoints: The list of Pod IPs a service targets.",
         "TargetPort vs Port: Container port vs Service port.",
         "Service Discovery: Finding services via DNS names.",
         "Kube-proxy (Review): How it implements services."
     ],
     tasks: [
         "Create a ClusterIP service for your deployment.",
         "Run a temporary pod (`busybox`) and `nslookup` the service.",
         "Curl the service from another pod.",
         "Change Service type to NodePort.",
         "Access the app via `NodeIP:NodePort`.",
         "Inspect Endpoints object (`kubectl get endpoints`).",
         "Filter services by namespace.",
         "Create a service imperatively.",
         "Understand the DNS naming convention (`svc.namespace.svc.cluster.local`)."
     ],
     lab: {
         title: "The Internal Phonebook",
         scenario: "Frontend pods need to talk to Backend pods, but Backend pod IPs change constantly.",
         steps: "Deploy 'Frontend' and 'Backend'. Create a Service for Backend. Configure Frontend to curl `http://backend-service`. Delete Backend pods to force IP changes. Verify Frontend can still reach Backend via the Service name."
     },
     commands: [
         { cmd: "kubectl expose deployment <name> --port=80", desc: "Expose as Service" },
         { cmd: "kubectl get svc", desc: "List services" },
         { cmd: "kubectl describe svc <name>", desc: "Check service config" },
         { cmd: "kubectl get endpoints", desc: "See backend pod IPs" },
         { cmd: "kubectl port-forward svc/<name> 8080:80", desc: "Localhost access" }
     ],
     resources: [
         { name: "Service", url: "https://kubernetes.io/docs/concepts/services-networking/service/" },
         { name: "DNS for Services", url: "https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/" }
     ]
 },
 {
     day: 4,
     title: "Configuration & Secrets",
     domain: "Configuration",
     focus: "Decoupling configuration from container images.",
     concepts: [
         "ConfigMap: Storing non-sensitive config data.",
         "Secret: Storing sensitive data (passwords, keys).",
         "Environment Variables: Injecting config into pods.",
         "Volume Mounting: Mounting config as files.",
         "Secret Types: Opaque, docker-registry, TLS.",
         "Base64 Encoding: How secrets are stored (not encrypted!).",
         "Immutable Config: Preventing changes to live config.",
         "Dotfiles: Hidden config files."
     ],
     tasks: [
         "Create a ConfigMap from a literal value.",
         "Create a ConfigMap from a file (e.g., nginx.conf).",
         "Inject ConfigMap as Environment Variable in Pod.",
         "Mount ConfigMap as a volume in Pod.",
         "Create a Secret manually.",
         "Decode a Secret using base64.",
         "Inject Secret as Env Var.",
         "Mount Secret as a volume.",
         "Update ConfigMap and verify volume update (latency).",
         "Create Docker Registry secret."
     ],
     lab: {
         title: "The Shapeshifter",
         scenario: "You need to change the background color of a web app without rebuilding the Docker image.",
         steps: "Deploy a web app that reads `BG_COLOR` from env. Create a ConfigMap `color=blue`. Map it to the pod. Change ConfigMap to `color=green`. Restart pod (or wait for volume sync) to see the app change."
     },
     commands: [
         { cmd: "kubectl create cm <name> --from-literal=k=v", desc: "Create ConfigMap" },
         { cmd: "kubectl create secret generic <name> --from-literal=pwd=123", desc: "Create Secret" },
         { cmd: "kubectl get cm,secret", desc: "List configs" },
         { cmd: "echo 'text' | base64", desc: "Linux base64 encode" },
         { cmd: "kubectl explain pod.spec.containers.env", desc: "Find env syntax" }
     ],
     resources: [
         { name: "ConfigMaps", url: "https://kubernetes.io/docs/concepts/configuration/configmap/" },
         { name: "Secrets", url: "https://kubernetes.io/docs/concepts/configuration/secret/" }
     ]
 },
 {
     day: 5,
     title: "Storage & Persistence",
     domain: "Storage",
     focus: "Managing stateful data that survives pod restarts.",
     concepts: [
         "Volumes: Directory accessible to containers in a pod.",
         "PersistentVolume (PV): Storage resource in the cluster.",
         "PersistentVolumeClaim (PVC): Request for storage by a user.",
         "StorageClass: Dynamic provisioning of storage.",
         "Access Modes: RWO (ReadWriteOnce), ROX, RWX.",
         "HostPath: Mounting node filesystem (Dev only).",
         "emptyDir: Temporary storage (cache).",
         "Reclaim Policy: Retain, Recycle, Delete.",
         "CSI: Container Storage Interface."
     ],
     tasks: [
         "Create a Pod with `emptyDir` volume.",
         "Write data, restart container, verify data exists.",
         "Delete Pod, verify `emptyDir` is gone.",
         "Create a StorageClass (or use default).",
         "Create a PVC requesting 1Gi storage.",
         "Mount PVC to a Pod (e.g., MySQL).",
         "Write data to the database.",
         "Delete the Pod.",
         "Recreate Pod, verify data persists.",
         "Inspect PV and PVC Binding."
     ],
     lab: {
         title: "The Digital Safe",
         scenario: "A database pod crashes. When it comes back up, the user data must still be there.",
         steps: "Deploy a simple writer app that appends the timestamp to a file in `/data`. Use a PVC for `/data`. Delete the pod. New pod starts. Check the file; previous timestamps should remain."
     },
     commands: [
         { cmd: "kubectl get pv,pvc", desc: "List storage resources" },
         { cmd: "kubectl get sc", desc: "List storage classes" },
         { cmd: "kubectl describe pvc <name>", desc: "Check binding status" },
         { cmd: "kubectl patch pvc ...", desc: "Modify PVC" }
     ],
     resources: [
         { name: "Persistent Volumes", url: "https://kubernetes.io/docs/concepts/storage/persistent-volumes/" },
         { name: "Storage Classes", url: "https://kubernetes.io/docs/concepts/storage/storage-classes/" }
     ]
 },
 {
     day: 6,
     title: "Advanced Workloads",
     domain: "Workloads",
     focus: "Specialized controllers for stateful and system apps.",
     concepts: [
         "DaemonSet: Runs one pod per node (Logs/Monitoring).",
         "StatefulSet: Ordered, unique pods (Databases).",
         "Headless Service: Service without IP, for DNS identity.",
         "Job: Run to completion (Batch tasks).",
         "CronJob: Scheduled tasks.",
         "Stable Network ID: pod-0, pod-1 naming.",
         "Ordered Graceful Deployment: Sequential scaling."
     ],
     tasks: [
         "Create a DaemonSet (e.g., Fluentd).",
         "Verify one pod runs on every node.",
         "Create a StatefulSet (e.g., Redis).",
         "Observe naming convention (web-0, web-1).",
         "Scale StatefulSet and watch sequential creation.",
         "Create a Job that calculates Pi.",
         "Check Job logs after completion.",
         "Create a CronJob that runs every minute.",
         "Suspend a CronJob."
     ],
     lab: {
         title: "The Ordered Lineup",
         scenario: "You are deploying a primary-replica database. The primary (db-0) must exist before the replica (db-1) starts.",
         steps: "Deploy a StatefulSet. Watch `kubectl get pods -w`. Notice `db-1` does not start until `db-0` is fully Ready. Delete `db-0` and watch it reclaim its specific identity."
     },
     commands: [
         { cmd: "kubectl create job <name> --image=busybox", desc: "Create Job" },
         { cmd: "kubectl get cronjobs", desc: "List scheduled jobs" },
         { cmd: "kubectl get statefulsets", desc: "List StatefulSets" },
         { cmd: "kubectl get ds", desc: "List DaemonSets" }
     ],
     resources: [
         { name: "StatefulSets", url: "https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/" },
         { name: "DaemonSets", url: "https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/" }
     ]
 },
 {
     day: 7,
     title: "Observability & Probes",
     domain: "Operations",
     focus: "Monitoring health and debugging issues.",
     concepts: [
         "Liveness Probe: Restarts pod if app deadlocked.",
         "Readiness Probe: Removes pod from Service if busy/starting.",
         "Startup Probe: Delays other probes for slow starters.",
         "Metrics Server: Aggregates resource usage.",
         "Container Logs: Stdout/Stderr.",
         "Events: Cluster-level occurrences.",
         "Port Forwarding: Debugging locally.",
         "Exec: Shell access.",
         "Ephemeral Containers: Debugging distroless images."
     ],
     tasks: [
         "Add a Liveness probe to a pod.",
         "Simulate app failure (delete file checked by probe).",
         "Watch K8s restart the pod.",
         "Add a Readiness probe.",
         "Simulate load; fail readiness.",
         "Verify Service endpoints remove the pod IP.",
         "Install Metrics Server (if needed).",
         "Run `kubectl top nodes` and `top pods`.",
         "View events for a namespace.",
         "Debug a CrashLoopBackOff."
     ],
     lab: {
         title: "The Broken Loop",
         scenario: "An app starts but crashes immediately. Another runs but returns 500 errors.",
         steps: "Debug a provided 'broken' manifest. Use `kubectl logs`, `kubectl describe`, and `kubectl get events` to find the root cause (e.g., missing secret, wrong command, failing probe) and fix it."
     },
     commands: [
         { cmd: "kubectl top pods", desc: "Check CPU/RAM usage" },
         { cmd: "kubectl logs <pod> -c <container> --previous", desc: "Logs of crashed instance" },
         { cmd: "kubectl get events --sort-by=.metadata.creationTimestamp", desc: "Chronological events" },
         { cmd: "kubectl describe pod <name>", desc: "Check probe failure events" }
     ],
     resources: [
         { name: "Configure Liveness/Readiness", url: "https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/" },
         { name: "Troubleshooting", url: "https://kubernetes.io/docs/tasks/debug/" }
     ]
 },
 {
     day: 8,
     title: "Security & RBAC",
     domain: "Security",
     focus: "Controlling access to the cluster and resources.",
     concepts: [
         "RBAC: Role-Based Access Control.",
         "Role: Permissions within a namespace.",
         "ClusterRole: Permissions cluster-wide.",
         "RoleBinding: Assigning Role to User/SA.",
         "ClusterRoleBinding: Assigning ClusterRole.",
         "ServiceAccount (SA): Identity for Pods.",
         "SecurityContext: User IDs, Capabilities (Linux).",
         "NetworkPolicies: Firewall for Pods.",
         "Least Privilege: Security best practice."
     ],
     tasks: [
         "Create a ServiceAccount.",
         "Create a Role (can only `list` pods).",
         "Bind Role to ServiceAccount.",
         "Run a pod using that ServiceAccount.",
         "Test access using `kubectl auth can-i`.",
         "Create a NetworkPolicy (deny all traffic).",
         "Allow traffic only from specific pod.",
         "Run pod as non-root user (SecurityContext).",
         "Mount API token into pod."
     ],
     lab: {
         title: "The Bouncer",
         scenario: "The `db` pod should only accept connections from `backend`, not `frontend` or `external`.",
         steps: "Apply a 'Default Deny' NetworkPolicy. Try to ping DB from Backend (fails). Create an 'Allow' policy specifically selecting Backend's labels. Verify connectivity is restored only for Backend."
     },
     commands: [
         { cmd: "kubectl create sa <name>", desc: "Create ServiceAccount" },
         { cmd: "kubectl create role <name> --verb=get --resource=pods", desc: "Create Role" },
         { cmd: "kubectl create rolebinding <name> --role=<role> --serviceaccount=<ns:sa>", desc: "Bind Role" },
         { cmd: "kubectl auth can-i get pods --as=system:serviceaccount:<ns>:<name>", desc: "Test permissions" }
     ],
     resources: [
         { name: "Using RBAC", url: "https://kubernetes.io/docs/reference/access-authn-authz/rbac/" },
         { name: "Network Policies", url: "https://kubernetes.io/docs/concepts/services-networking/network-policies/" }
     ]
 },
 {
     day: 9,
     title: "Helm & Package Management",
     domain: "Automation",
     focus: "Managing complex applications as packages.",
     concepts: [
         "Helm: The package manager for K8s.",
         "Chart: A package (collection of YAMLs).",
         "Release: An instance of a chart.",
         "Repository: Where charts are stored.",
         "Values.yaml: Custom configuration for charts.",
         "Templates: Dynamic YAML generation (Go templates).",
         "Helm Install/Upgrade/Rollback: Lifecycle management.",
         "Chart.yaml: Metadata."
     ],
     tasks: [
         "Install Helm CLI.",
         "Add a Helm repo (e.g., Bitnami).",
         "Search for a chart (e.g., Nginx, MySQL).",
         "Install a chart with default values.",
         "List releases.",
         "Upgrade a release with new values (change replica count).",
         "Rollback a release.",
         "Create a starter chart (`helm create`).",
         "Render templates locally (`helm template`).",
         "Uninstall a release."
     ],
     lab: {
         title: "The Storefront",
         scenario: "You need to deploy Wordpress, but writing all the Deployment, Service, PVC, and Secret YAMLs manually is tedious.",
         steps: "Use Helm to deploy Wordpress. Inspect the `values.yaml` to customize the blog title and admin password. Deploy it in one command. Upgrade the version without losing data."
     },
     commands: [
         { cmd: "helm repo add <name> <url>", desc: "Add repository" },
         { cmd: "helm install <release> <chart>", desc: "Install app" },
         { cmd: "helm list", desc: "View installed apps" },
         { cmd: "helm upgrade <release> <chart> -f values.yaml", desc: "Update config" },
         { cmd: "helm uninstall <release>", desc: "Remove app" }
     ],
     resources: [
         { name: "Helm Quickstart", url: "https://helm.sh/docs/intro/quickstart/" },
         { name: "Artifact Hub", url: "https://artifacthub.io/" }
     ]
 },
 {
     day: 10,
     title: "Ingress & Advanced Networking",
     domain: "Networking",
     focus: "Routing external traffic into the cluster.",
     concepts: [
         "Ingress: HTTP/HTTPS routing rules.",
         "Ingress Controller: The implementation (Nginx, Traefik).",
         "Path Based Routing: /api vs /web.",
         "Host Based Routing: foo.com vs bar.com.",
         "TLS/SSL: Configuring certs.",
         "Annotations: Configuring controller specific behavior.",
         "Default Backend: Where unknown traffic goes.",
         "IngressClass: Selecting the controller."
     ],
     tasks: [
         "Enable Ingress Controller (minikube addons enable ingress).",
         "Create two deployments (Apple & Banana).",
         "Expose them as Services.",
         "Create an Ingress resource.",
         "Configure `/apple` to route to Apple Service.",
         "Configure `/banana` to route to Banana Service.",
         "Edit `/etc/hosts` to map local domain.",
         "Test access via browser/curl.",
         "Inspect Ingress Controller logs."
     ],
     lab: {
         title: "The Traffic Cop",
         scenario: "You have one IP address but need to host two different websites.",
         steps: "Deploy 'Blue Site' and 'Green Site'. Create an Ingress rule so `blue.local` goes to Blue and `green.local` goes to Green. Verify the routing works seamlessly through the single entry point."
     },
     commands: [
         { cmd: "kubectl get ingress", desc: "List ingress rules" },
         { cmd: "kubectl describe ingress <name>", desc: "Check routing config" },
         { cmd: "kubectl logs -n ingress-nginx <controller-pod>", desc: "Debug controller" },
         { cmd: "curl -H 'Host: example.com' <ip>", desc: "Test host routing" }
     ],
     resources: [
         { name: "Ingress", url: "https://kubernetes.io/docs/concepts/services-networking/ingress/" },
         { name: "Nginx Ingress Controller", url: "https://kubernetes.github.io/ingress-nginx/" }
     ]
 },
 {
     day: 11,
     title: "Scheduling & Resource Management",
     domain: "Optimization",
     focus: "Controlling exactly where pods run and how much they consume.",
     concepts: [
         "Requests: Minimum resources guaranteed.",
         "Limits: Maximum resources allowed (OOMKill).",
         "NodeSelector: Simple node selection.",
         "Node Affinity: Complex node selection logic.",
         "Taints: Node repelling pods.",
         "Tolerations: Pods ignoring taints.",
         "Pod Affinity: Pods wanting to be near other pods.",
         "QoS Classes: Guaranteed, Burstable, BestEffort.",
         "LimitRange/ResourceQuota: Namespace limits."
     ],
     tasks: [
         "Set CPU/Memory requests on a pod.",
         "Set Limits (try to exceed them and watch OOMKill).",
         "Label a node (e.g., `gpu=true`).",
         "Use NodeSelector to schedule pod on labeled node.",
         "Taint a node (e.g., `env=prod:NoSchedule`).",
         "Try to schedule a standard pod (Pending state).",
         "Add Toleration to pod to bypass taint.",
         "Configure Namespace ResourceQuota.",
         "Understand Pod priority."
     ],
     lab: {
         title: "The VIP Lounge",
         scenario: "You have a dedicated high-performance node. Only critical 'Gold' workloads should run there. No 'Silver' workloads allowed.",
         steps: "Taint the high-perf node. Deploy a 'Silver' pod (it stays Pending or goes to other nodes). Deploy a 'Gold' pod with the correct toleration. Verify 'Gold' is the only one enjoying the high-performance node."
     },
     commands: [
         { cmd: "kubectl taint nodes <node> key=value:NoSchedule", desc: "Add taint" },
         { cmd: "kubectl label nodes <node> key=value", desc: "Add label" },
         { cmd: "kubectl describe node <name>", desc: "Check usage/taints" },
         { cmd: "kubectl get pods -o wide", desc: "See which node pods are on" }
     ],
     resources: [
         { name: "Taints and Tolerations", url: "https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/" },
         { name: "Resource Management", url: "https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/" }
     ]
 },
 {
     day: 12,
     title: "Ecosystem & The Future",
     domain: "Advanced",
     focus: "Extending K8s and modern deployment practices.",
     concepts: [
         "CRD (Custom Resource Definition): Extending the API.",
         "Operators: Automated software managers (Prometheus, Postgres).",
         "GitOps: Infrastructure as Code (ArgoCD, Flux).",
         "Service Mesh: Traffic management (Istio, Linkerd).",
         "Cilium/eBPF: Advanced Networking.",
         "Serverless K8s: Knative.",
         "Managed K8s: EKS (AWS), GKE (Google), AKS (Azure).",
         "CI/CD Integration: Jenkins/GitLab with K8s."
     ],
     tasks: [
         "Explore existing CRDs (`kubectl get crd`).",
         "Install a simple Operator (e.g., Prometheus Operator).",
         "Create an instance of a Custom Resource.",
         "Read about ArgoCD architecture.",
         "Simulate GitOps (apply manifest from a Git URL).",
         "Review the 12-Factor App methodology.",
         "Explore the CNCF Landscape.",
         "Plan a migration path for a legacy app."
     ],
     lab: {
         title: "The Autopilot",
         scenario: "You want a database, but managing backups, failover, and configuration is hard. You want a robot to do it.",
         steps: "Install a Database Operator (like Postgres Operator). Create a simple YAML asking for a 'PostgresCluster'. Watch the Operator automatically spawn the Service, StatefulSet, Secrets, and Backup Jobs without you defining them manually."
     },
     commands: [
         { cmd: "kubectl get crd", desc: "List Custom Definitions" },
         { cmd: "kubectl get all -n <operator-ns>", desc: "See operator resources" },
         { cmd: "kubectl api-resources", desc: "List all available APIs" }
     ],
     resources: [
         { name: "CNCF Landscape", url: "https://landscape.cncf.io/" },
         { name: "Operator Hub", url: "https://operatorhub.io/" },
         { name: "ArgoCD", url: "https://argo-cd.readthedocs.io/en/stable/" }
     ]
 }
];

     // State Management
     let currentState = {
         activeDay: null,
         completedDays: new Set(),
         theme: 'light'
     };

     // --- Core Logic ---

     function init() {
         initTheme();
         renderDashboard();
     }

     function initTheme() {
         const toggle = document.getElementById('theme-toggle');
         const icon = document.getElementById('theme-toggle-icon');

         // Check saved theme
         if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
             document.documentElement.classList.add('dark');
             icon.textContent = '‚òÄÔ∏è';
             currentState.theme = 'dark';
         }

         toggle.addEventListener('click', () => {
             if (document.documentElement.classList.contains('dark')) {
                 document.documentElement.classList.remove('dark');
                 localStorage.theme = 'light';
                 icon.textContent = 'üåô';
                 currentState.theme = 'light';
             } else {
                 document.documentElement.classList.add('dark');
                 localStorage.theme = 'dark';
                 icon.textContent = '‚òÄÔ∏è';
                 currentState.theme = 'dark';
             }
             // Refresh charts on theme change for color consistency
             if (currentState.activeDay === null) renderDashboard();
         });
     }

     // Dashboard Renderer
     function renderDashboard() {
         currentState.activeDay = null;
         const app = document.getElementById('app-view');
         const totalConcepts = k8sData.reduce((acc, day) => acc + day.concepts.length, 0);
         const totalTasks = k8sData.reduce((acc, day) => acc + (day.tasks ? day.tasks.length : 0), 0);

         app.innerHTML = `
             <div class="mb-8 text-center animate-fade-in">
                 <h1 class="text-3xl sm:text-4xl font-bold text-stone-800 dark:text-stone-100 mb-2">Kubernetes 12-Day Journey</h1>
                 <p class="text-stone-600 dark:text-stone-400 max-w-2xl mx-auto px-4">Master architecture, networking, and operations through structured daily practice.</p>
             </div>

             <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8">
                 <div class="bg-white dark:bg-stone-900 p-6 rounded-xl shadow-sm border border-stone-200 dark:border-stone-800">
                     <div class="text-sm text-stone-500 dark:text-stone-400 font-medium">Total Days</div>
                     <div class="text-3xl font-bold text-stone-800 dark:text-stone-100">12</div>
                     <div class="mt-2 h-2 bg-stone-100 dark:bg-stone-800 rounded-full overflow-hidden">
                         <div class="h-full bg-sky-500" style="width: ${Math.round((currentState.completedDays.size / 12) * 100)}%"></div>
                     </div>
                     <div class="text-xs text-stone-400 mt-1">${currentState.completedDays.size} completed</div>
                 </div>
                 <div class="bg-white dark:bg-stone-900 p-6 rounded-xl shadow-sm border border-stone-200 dark:border-stone-800">
                     <div class="text-sm text-stone-500 dark:text-stone-400 font-medium">Core Concepts</div>
                     <div class="text-3xl font-bold text-stone-800 dark:text-stone-100">${totalConcepts}</div>
                     <div class="text-xs text-stone-400 mt-1">Foundational knowledge</div>
                 </div>
                 <div class="hidden sm:block bg-white dark:bg-stone-900 p-6 rounded-xl shadow-sm border border-stone-200 dark:border-stone-800">
                     <div class="text-sm text-stone-500 dark:text-stone-400 font-medium">Hands-on Tasks</div>
                     <div class="text-3xl font-bold text-stone-800 dark:text-stone-100">${totalTasks}</div>
                     <div class="text-xs text-stone-400 mt-1">Practical exercises</div>
                 </div>
             </div>

             <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-12">
                 <div class="bg-white dark:bg-stone-900 p-4 sm:p-6 rounded-xl shadow-sm border border-stone-200 dark:border-stone-800">
                     <h3 class="text-lg font-bold text-stone-800 dark:text-stone-100 mb-4 text-center sm:text-left">Daily Curriculum Balance</h3>
                     <div class="chart-container"><canvas id="curriculumChart"></canvas></div>
                 </div>
                 <div class="bg-white dark:bg-stone-900 p-4 sm:p-6 rounded-xl shadow-sm border border-stone-200 dark:border-stone-800">
                     <h3 class="text-lg font-bold text-stone-800 dark:text-stone-100 mb-4 text-center sm:text-left">Skill Domain Focus</h3>
                     <div class="chart-container"><canvas id="domainChart"></canvas></div>
                 </div>
             </div>

             <h2 class="text-2xl font-bold text-stone-800 dark:text-stone-100 mb-6 px-2">Your Learning Path</h2>
             <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-12">
                 ${k8sData.map(day => `
                     <div onclick="renderDay(${day.day})"
                          class="bg-white dark:bg-stone-900 p-5 rounded-lg border ${currentState.completedDays.has(day.day) ? 'border-sky-500 bg-sky-50 dark:bg-sky-950/20' : 'border-stone-200 dark:border-stone-800'} shadow-sm card-hover cursor-pointer transition-all">
                         <div class="flex justify-between items-start mb-2">
                             <span class="text-xs font-bold uppercase tracking-wider ${currentState.completedDays.has(day.day) ? 'text-sky-600' : 'text-stone-400'}">Day ${day.day}</span>
                             ${currentState.completedDays.has(day.day) ? '‚úÖ' : ''}
                         </div>
                         <h4 class="font-bold text-stone-800 dark:text-stone-100 mb-2 leading-tight">${day.title}</h4>
                         <div class="mt-4 flex items-center gap-2">
                             <span class="px-2 py-1 bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400 text-xs rounded font-medium">${day.domain}</span>
                         </div>
                     </div>
                 `).join('')}
             </div>
         `;
         initCharts();
         updateNavProgress();
     }

     function initCharts() {
         const isDark = document.documentElement.classList.contains('dark');
         const textColor = isDark ? '#a8a29e' : '#78716c';
         const gridColor = isDark ? '#292524' : '#e7e5e4';

         const ctx1 = document.getElementById('curriculumChart').getContext('2d');
         new Chart(ctx1, {
             type: 'bar',
             data: {
                 labels: k8sData.map(d => `D${d.day}`),
                 datasets: [
                     { label: 'Concepts', data: k8sData.map(d => d.concepts.length), backgroundColor: isDark ? '#44403c' : '#e7e5e4' },
                     { label: 'Tasks', data: k8sData.map(d => d.tasks ? d.tasks.length : 0), backgroundColor: '#0ea5e9' }
                 ]
             },
             options: {
                 responsive: true,
                 maintainAspectRatio: false,
                 plugins: { legend: { labels: { color: textColor } } },
                 scales: {
                     x: { stacked: true, grid: { display: false }, ticks: { color: textColor } },
                     y: { stacked: true, grid: { color: gridColor }, ticks: { color: textColor } }
                 }
             }
         });

         const domains = {};
         k8sData.forEach(d => domains[d.domain] = (domains[d.domain] || 0) + 1);
         const ctx2 = document.getElementById('domainChart').getContext('2d');
         new Chart(ctx2, {
             type: 'doughnut',
             data: {
                 labels: Object.keys(domains),
                 datasets: [{
                     data: Object.values(domains),
                     backgroundColor: ['#78716c', '#0ea5e9', '#f59e0b', '#10b981', '#6366f1'],
                     borderWidth: 0
                 }]
             },
             options: {
                 responsive: true,
                 maintainAspectRatio: false,
                 cutout: '65%',
                 plugins: { legend: { position: 'right', labels: { color: textColor, padding: 20 } } }
             }
         });
     }

     function renderDay(dayId) {
         currentState.activeDay = dayId;
         const dayData = k8sData.find(d => d.day === dayId);
         const app = document.getElementById('app-view');
         const isCompleted = currentState.completedDays.has(dayId);

         app.innerHTML = `
             <div class="mb-6 flex flex-col md:flex-row justify-between md:items-center gap-4 animate-fade-in">
                 <div>
                     <button onclick="renderDashboard()" class="text-sm text-stone-500 dark:text-stone-400 hover:text-stone-800 dark:hover:text-stone-200 mb-2 flex items-center gap-1">‚Üê Back</button>
                     <h2 class="text-2xl sm:text-3xl font-bold text-stone-900 dark:text-stone-100">Day ${dayData.day}: ${dayData.title}</h2>
                 </div>
                 <div class="flex items-center gap-3">
                     <button onclick="toggleComplete(${dayId})"
                         class="w-full md:w-auto px-4 py-2 rounded-lg font-medium transition-colors ${isCompleted ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-800' : 'bg-stone-800 text-white dark:bg-stone-100 dark:text-stone-900 hover:bg-stone-700 dark:hover:bg-stone-200'}">
                         ${isCompleted ? 'Completed ‚úì' : 'Mark as Complete'}
                     </button>
                 </div>
             </div>

             <div class="flex border-b border-stone-200 dark:border-stone-800 mb-8 overflow-x-auto no-scrollbar">
                 ${['Concepts', 'Tasks', 'Lab Scenario', 'Commands'].map(tab => `
                     <button onclick="switchTab('${tab}')"
                         id="tab-${tab.replace(' ', '')}"
                         class="px-4 sm:px-6 py-3 text-sm font-medium text-stone-500 dark:text-stone-400 hover:text-stone-800 dark:hover:text-stone-200 transition-colors whitespace-nowrap ${tab === 'Concepts' ? 'tab-active' : ''}">
                         ${tab}
                     </button>
                 `).join('')}
             </div>

             <div id="tab-content" class="min-h-[300px] animate-fade-in">
                 ${getConceptsHTML(dayData)}
             </div>
         `;
         updateNavProgress();
     }

     function getConceptsHTML(data) {
         return `
             <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                 ${data.concepts.map((concept, index) => {
                     const parts = concept.split(':');
                     return `
                     <div class="bg-white dark:bg-stone-900 p-4 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm transition-colors">
                         <span class="text-xs font-mono text-stone-400 dark:text-stone-500 block mb-1">#${index + 1}</span>
                         <h4 class="font-bold text-stone-800 dark:text-stone-100 mb-1">${parts[0]}</h4>
                         <p class="text-sm text-stone-600 dark:text-stone-400">${parts[1] || ''}</p>
                     </div>`;
                 }).join('')}
             </div>`;
     }

     function getTasksHTML(data) {
         if (!data.tasks) return `<p class="text-stone-500">No tasks listed for this day.</p>`;
         return `
              <div class="bg-white dark:bg-stone-900 rounded-xl shadow-sm border border-stone-200 dark:border-stone-800 overflow-hidden">
                 <div class="p-4 sm:p-6 bg-stone-50 dark:bg-stone-850 border-b border-stone-200 dark:border-stone-800">
                     <h3 class="font-bold text-stone-800 dark:text-stone-100">Hands-on Checklist</h3>
                 </div>
                 <div class="divide-y divide-stone-100 dark:divide-stone-800">
                     ${data.tasks.map((task, index) => `
                         <label class="flex items-start gap-4 p-4 hover:bg-stone-50 dark:hover:bg-stone-800/50 cursor-pointer transition-colors">
                             <input type="checkbox" class="mt-1 w-4 h-4 text-sky-600 rounded border-stone-300 dark:border-stone-700 bg-transparent focus:ring-sky-500">
                             <div class="text-sm sm:text-base text-stone-600 dark:text-stone-300">${task}</div>
                         </label>`).join('')}
                 </div>
             </div>`;
     }

     function getLabHTML(data) {
         return `
             <div class="max-w-4xl mx-auto">
                 <div class="bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-900/30 rounded-xl p-6">
                     <div class="flex items-center gap-2 mb-4">
                         <span class="text-2xl">‚ö°</span>
                         <h3 class="text-xl font-bold text-amber-900 dark:text-amber-400">${data.lab.title}</h3>
                     </div>
                     <p class="text-amber-900 dark:text-amber-300/80 mb-6 leading-relaxed">${data.lab.scenario}</p>
                     <div class="bg-white dark:bg-stone-900/50 p-4 rounded-lg border border-amber-100 dark:border-amber-900/20 text-amber-900 dark:text-amber-300">
                         <strong>Steps:</strong> ${data.lab.steps}
                     </div>
                 </div>
             </div>`;
     }

     function getCommandsHTML(data) {
         return `
             <div class="terminal-window p-4 sm:p-6 font-mono text-xs sm:text-sm overflow-x-auto">
                 <div class="flex gap-2 mb-4">
                     <div class="w-3 h-3 rounded-full bg-red-500"></div>
                     <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                     <div class="w-3 h-3 rounded-full bg-green-500"></div>
                 </div>
                 <div class="space-y-4">
                     ${data.commands.map(c => `
                         <div>
                             <div class="text-stone-500 mb-1"># ${c.desc}</div>
                             <div class="text-green-400 flex"><span class="mr-2">$</span><span>${c.cmd}</span></div>
                         </div>`).join('')}
                 </div>
             </div>`;
     }

     window.switchTab = function(tabName) {
         document.querySelectorAll('button[id^="tab-"]').forEach(b => b.classList.remove('tab-active'));
         document.getElementById(`tab-${tabName.replace(' ', '')}`).classList.add('tab-active');
         const dayData = k8sData.find(d => d.day === currentState.activeDay);
         const contentDiv = document.getElementById('tab-content');
         if (tabName === 'Concepts') contentDiv.innerHTML = getConceptsHTML(dayData);
         if (tabName === 'Tasks') contentDiv.innerHTML = getTasksHTML(dayData);
         if (tabName === 'Lab Scenario') contentDiv.innerHTML = getLabHTML(dayData);
         if (tabName === 'Commands') contentDiv.innerHTML = getCommandsHTML(dayData);
     };

     window.toggleComplete = function(dayId) {
         currentState.completedDays.has(dayId) ? currentState.completedDays.delete(dayId) : currentState.completedDays.add(dayId);
         renderDay(dayId);
     };

     window.updateNavProgress = function() {
          const display = document.getElementById('progress-display');
          if(display) display.textContent = `Day ${currentState.activeDay || 0}/12`;
     }

     window.renderDashboard = renderDashboard;
     window.renderDay = renderDay;

     init();
</script>
</body>
</html>
